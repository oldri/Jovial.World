<nav class="bg-gray-100 text-gray-700 py-4 sticky top-0 border-b border-gray-700">
  <div class="container mx-auto flex justify-between items-center">
    <div class="px-4 sm:px-6 md:px-8 lg:px-10 xl:px-12">
      <ul>
        <li id="colorful-text">
          <%= link_to 'Jovial.World', root_path, class: 'text-lg sm:text-xl md:text-2xl lg:text-4xl xl:text-6xl font-bold' %>
        </li>
      </ul>
    </div>
    
    <ul class="flex">
      <% if user_signed_in? %> 
        <% unless current_page?(new_user_session_path) %>
          <li class="pr-4 py-2 mr-2 text-xs sm:text-sm md:text-md lg:text-md xl:text-md">
          <%= link_to 'New Post', new_blog_post_path, class: 'py-2 px-4 border border-transparent rounded-md shadow-sm text-md font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500' %>
        </li>
        <li class="relative group pr-4 py-2 mr-2">
          <a href="#" class="font-medium text-gray-700 hover:text-gray-500 px-2 py-2 text-md">Profile</a>
            <ul class="absolute left-0 transform scale-0 group-hover:scale-100 transition-transform duration-200 origin-top min-w-full bg-white text-black py-2 z-10 border border-gray-200 rounded-md shadow-lg">
              <li class="px-4 py-2 text-sm hover:bg-gray-100 transition-colors duration-200">
                <%= link_to 'Posts', posts_user_path(current_user) %>          
              </li>
              <li class="px-4 py-2 text-sm hover:bg-gray-100 transition-colors duration-200">
                <%= link_to 'Settings', edit_user_registration_path %> 
              </li>
              <li class="px-4 py-2 text-sm hover:bg-gray-100 transition-colors duration-200">
                <%= button_to 'Log Out', destroy_user_session_path, method: :delete %>
              </li>
            </ul>
          </li>
        <% end %> 
      <% else %> 
        <% unless current_page?(new_user_session_path) %> 
          <% unless current_page?(new_user_registration_path) %>
            <div class="flex">
                <li class="pr-4 py-2 mr-2 text-xs sm:text-sm md:text-md lg:text-md xl:text-md">
                <%= link_to 'Log In', new_user_session_path, class: 'py-2 px-4 border border-transparent rounded-md shadow-sm text-md font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500' %>
              </li>
              <li class="pr-4 py-2 mr-2 text-xs sm:text-sm md:text-md lg:text-md xl:text-md">
                <%= link_to 'Sign Up', new_user_registration_path, class: 'font-medium text-gray-700 hover:text-gray-500 px-2 py-2 text-md' %>
              </li>
            </div>
          <% end %> 
        <% end %> 
      <% end %>
    </ul>
  </div>
</nav>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
  $(document).ready(function () {
    $("#colorful-text a").each(function () {
      var letters = $(this).text().split("");
      $(this).empty();
      for (var i = 0; i < letters.length; i++) {
        var color =
          "rgb(" +
          Math.floor(Math.random() * 256) +
          "," +
          Math.floor(Math.random() * 256) +
          "," +
          Math.floor(Math.random() * 256) +
          ")";
        var span = $("<span>").text(letters[i]).css("color", color);
        $(this).append(span);
      }
    });
  });
</script>
